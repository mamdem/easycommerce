<!-- Menu de navigation fixe -->
<nav class="store-nav">
  <div class="nav-container">
    <div class="nav-brand">
      <button class="menu-toggle" (click)="toggleMenu()" *ngIf="isMobile">
        <i class="bi bi-list"></i>
      </button>
      <img [src]="(store$ | async)?.logoUrl || 'assets/default-store-logo.png'" 
           [alt]="(store$ | async)?.legalName" 
           class="nav-logo">
      <span class="nav-title">{{ (store$ | async)?.legalName }}</span>
    </div>

    <!-- Menu desktop -->
    <div class="nav-menu" *ngIf="!isMobile">
      <a class="nav-link" [routerLink]="['/boutique', storeUrl]" [fragment]="'products'">
        <i class="bi bi-grid-3x3-gap-fill"></i>
        Produits
      </a>
      <a class="nav-link" [routerLink]="['/boutique', storeUrl]" [fragment]="'categories'">
        <i class="bi bi-collection"></i>
        Catégories
      </a>
      <a class="nav-link" [routerLink]="['/boutique', storeUrl]" [fragment]="'about'">
        <i class="bi bi-info-circle"></i>
        À propos
      </a>
      <a class="btn btn-primary cart-btn" [routerLink]="['/boutique', storeUrl, 'cart']">
        <i class="bi bi-cart3"></i>
        Panier
        <span class="cart-count" *ngIf="cartItemsCount > 0">{{ cartItemsCount }}</span>
      </a>
    </div>
  </div>
</nav>

<!-- Menu mobile drawer -->
<div class="drawer-menu" [class.open]="isMenuOpen && isMobile">
  <div class="drawer-content">
    <div class="drawer-header">
      <h3>Menu</h3>
      <button (click)="closeMenu()">
        <i class="bi bi-x-lg"></i>
      </button>
    </div>
    
    <!-- Navigation principale -->
    <div class="drawer-links">
      <a [routerLink]="['/boutique', storeUrl]" [fragment]="'products'" (click)="closeMenu()">
        <i class="bi bi-grid-3x3-gap-fill"></i>
        Produits
      </a>
      <a [routerLink]="['/boutique', storeUrl]" [fragment]="'categories'" (click)="closeMenu()">
        <i class="bi bi-collection"></i>
        Catégories
      </a>
      <a [routerLink]="['/boutique', storeUrl, 'cart']" (click)="closeMenu()">
        <i class="bi bi-cart3"></i>
        Panier
        <span class="badge" *ngIf="cartItemsCount > 0">{{ cartItemsCount }}</span>
      </a>
    </div>
  </div>
</div>

<!-- Contenu principal -->
<div class="layout-container">
  <router-outlet></router-outlet>
</div> 